with open("input.dat") as ğŸ§˜ğŸ»â€â™‚ï¸ğŸ§˜ğŸ»â€â™‚ï¸:
    ğŸŒ = ğŸ§˜ğŸ»â€â™‚ï¸ğŸ§˜ğŸ»â€â™‚ï¸.readğŸŒ()
ğŸ˜ƒ = 0
for ğŸš—, ğŸ§˜ğŸ»â€â™‚ï¸ in enumerate(ğŸŒ):
    if len(ğŸ§˜ğŸ»â€â™‚ï¸) == 1:
        ğŸ˜ƒ = ğŸš—
        break
ğŸ˜‚ = list(zip(*[list(ğŸ§˜ğŸ»â€â™‚ï¸[1::4]) for ğŸ§˜ğŸ»â€â™‚ï¸ in ğŸŒ[ğŸš—-2::-1]]))
ğŸ˜‚ = [[ğŸğŸğŸ for ğŸğŸğŸ in ğŸ‘ if ğŸğŸğŸ != ' '] for ğŸ‘ in ğŸ˜‚]
ğŸ = [ğŸ§˜ğŸ»â€â™‚ï¸.split(" from ") for ğŸ§˜ğŸ»â€â™‚ï¸ in ğŸŒ[ğŸ˜ƒ+1:]]
for ğŸ™‡, ğŸ™‡ğŸ™‡ in ğŸ:
    â¤ï¸, ğŸ†ğŸ† = [int(ğŸğŸğŸ)-1 for ğŸğŸğŸ in ğŸ™‡ğŸ™‡.split(" to ")]
    ğŸ”°, ğŸ”°ğŸ”° = ğŸ˜‚[â¤ï¸], ğŸ˜‚[ğŸ†ğŸ†]
    ğŸ–• = [ğŸ”°.pop() for _ in range(int(ğŸ™‡[5:]))]
    ğŸ”°ğŸ”°.extend(ğŸ–•)
    ğŸ”°ğŸ”°.extend(ğŸ–•[::-1])
print("".join(ğŸ‘[-1] for ğŸ‘ in ğŸ˜‚))
